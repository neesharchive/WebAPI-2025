<div class="page-wrapper">
  <!-- Add Widget -->
  <div class="add-widget" *ngIf="!showForm">
    <button mat-raised-button color="primary" (click)="toggleForm()">
      + Add Guest House
    </button>
  </div>

  <!-- Stepper Form -->
  <mat-horizontal-stepper linear *ngIf="showForm">
    <mat-step [stepControl]="detailsForm">
      <form [formGroup]="detailsForm">
        <ng-template matStepLabel>Details</ng-template>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Guest House Name</mat-label>
          <input matInput formControlName="name" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Location</mat-label>
          <mat-select formControlName="location">
            <mat-option *ngFor="let loc of locations" [value]="loc">{{ loc }}</mat-option>
          </mat-select>
        </mat-form-field>

        <div class="form-buttons">
          <button mat-button matStepperNext [disabled]="!detailsForm.valid">Next</button>
          <button mat-button color="warn" (click)="toggleForm()">Cancel</button>
        </div>
      </form>
    </mat-step>

    <mat-step [stepControl]="configForm">
      <form [formGroup]="configForm">
        <ng-template matStepLabel>Room & Bed Setup</ng-template>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Number of Rooms</mat-label>
          <input matInput type="number" formControlName="numberOfRooms" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Beds per Room</mat-label>
          <input matInput type="number" formControlName="bedsPerRoom" />
        </mat-form-field>

        <div class="form-buttons">
          <button mat-button matStepperPrevious>Back</button>
          <button mat-raised-button color="primary" [disabled]="!configForm.valid" (click)="onSubmit()">Create</button>
        </div>
      </form>
    </mat-step>
  </mat-horizontal-stepper>

  <!-- Guest House List Table -->
  <div class="guesthouse-table-section">
    <app-guesthouse-list></app-guesthouse-list>
  </div>
</div>
